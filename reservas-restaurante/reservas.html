<!DOCTYPE html>
<html lang="en" id="reservas">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>RESERVAS</title>
</head>

<body id="pagina-reservas">
  <main class="min-h-screen flex flex-col items-center">
    <div class="flex flex-col sm:flex-row mb-5 mt-5 w-11/12 md:w-4/5 justify-between items-center gap-4">
      <h1 class="font-extrabold text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-center sm:text-left">RESERVAS</h1>
      <button onclick="window.location.href='index.html'" type="button"
        class="bg-amber-400 px-4 py-2 cursor-pointer shadow-xl w-full sm:w-40 md:w-52 h-10 text-white text-sm sm:text-base rounded-lg">
        MESAS
      </button>
    </div>
    <div class="w-11/12 md:w-4/5 mb-4 flex flex-col sm:flex-row justify-between gap-4">
      <input type="date" id="filtroFecha" class="form-control w-full sm:w-1/3">
      <select id="filtroEstado" class="form-select w-full sm:w-1/3">
        <option value="">Todos los estados</option>
        <option value="Pendiente">Pendiente</option>
        <option value="Confirmada">Confirmada</option>
        <option value="Cancelada">Cancelada</option>
        <option value="Finalizada">Finalizada</option>
        <option value="No Show">No Show</option>
      </select>
      <button id="btnFiltrar" class="btn btn-primary w-full sm:w-1/3">Filtrar</button>
    </div>

    <div class="w-11/12 md:w-4/5 bg-white rounded-3xl shadow-2xl p-4">
      <div id="gridReservas"
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-h-[600px] overflow-y-auto relative">
        <div id="btnAddReserva"
          class="sticky top-0 left-0 z-10 card w-full bg-base-100 shadow-sm p-2.5 cursor-pointer flex flex-col items-center justify-center rounded-2xl"
          data-bs-toggle="modal" data-bs-target="#modalReserva">
          <div class="text-gray-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" class="bi bi-plus-square"
              viewBox="0 0 16 16">
              <path
                d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
              <path
                d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
            </svg>
          </div>
          <h3 class="text-lg text-center font-medium text-gray-500">AÑADIR RESERVA</h3>
        </div>
        <div id="contenedorReservas" class="contents"></div>
      </div>
    </div>
  </main>

  <div class="modal fade" id="modalReserva" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Nueva Reserva</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <form id="reservaForm">
          <input type="hidden" id="editReservaId">
          <div class="modal-body">
            <div class="row g-3">
              <div class="col-12 col-md-6">
                <label for="nombreCliente" class="form-label">Nombre del Cliente *</label>
                <input type="text" class="form-control" id="nombreCliente" required>
                <div class="invalid-feedback">El nombre del cliente es obligatorio.</div>
              </div>
              <div class="col-12 col-md-6">
                <label for="numeroPersonas" class="form-label">Número de Personas *</label>
                <input type="number" class="form-control" id="numeroPersonas" min="1" required>
                <div class="invalid-feedback">Debe ser un número mayor que cero.</div>
              </div>
              <div class="col-12 col-md-6">
                <label for="fechaReserva" class="form-label">Fecha de Reserva *</label>
                <input type="date" class="form-control" id="fechaReserva" required>
                <div class="invalid-feedback">La fecha debe ser posterior a hoy.</div>
              </div>
              <div class="col-12 col-md-6">
                <label for="horaReserva" class="form-label">Hora de Reserva *</label>
                <input type="time" class="form-control" id="horaReserva" min="08:00" max="20:00" required>
                <div class="invalid-feedback">La hora debe estar entre 8:00 AM y 8:00 PM.</div>
              </div>
              <div class="col-12 col-md-6">
                <label for="mesaAsignada" class="form-label">Mesa Asignada *</label>
                <select class="form-select" id="mesaAsignada" required>
                  <option value="">Seleccionar mesa...</option>
                </select>
                <div class="invalid-feedback">Debe seleccionar una mesa disponible.</div>
              </div>
              <div class="col-12 col-md-6">
                <label for="estadoReserva" class="form-label">Estado</label>
                <select class="form-select" id="estadoReserva">
                  <option value="Pendiente">Pendiente</option>
                  <option value="Confirmada">Confirmada</option>
                  <option value="Cancelada">Cancelada</option>
                  <option value="Finalizada">Finalizada</option>
                  <option value="No Show">No Show</option>
                </select>
              </div>
              <div class="col-12">
                <label for="ocasionEspecial" class="form-label">Ocasión Especial</label>
                <select id="ocasionEspecial" class="form-select">
                  <option value="">Seleccionar...</option>
                  <option value="Cumpleaños">Cumpleaños</option>
                  <option value="Aniversario">Aniversario</option>
                  <option value="Reunión de Negocios">Reunión de Negocios</option>
                  <option value="Graduación">Graduación</option>
                  <option value="Boda">Boda</option>
                  <option value="Cena Romántica">Cena Romántica</option>
                  <option value="Despedida">Despedida</option>
                  <option value="Ninguna">Ninguna</option>
                </select>
              </div>
              <div class="col-12">
                <label for="notasAdicionales" class="form-label">Notas Adicionales</label>
                <textarea class="form-control" id="notasAdicionales" rows="3"
                  placeholder="Comentarios especiales..."></textarea>
              </div>
            </div>
          </div>
          <div class="modal-footer flex flex-col sm:flex-row gap-2">
            <button type="button" class="btn btn-secondary w-full sm:w-auto" data-bs-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-primary w-full sm:w-auto">Guardar Reserva</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalCambiarEstado" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Cambiar Estado de Reserva</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input type="hidden" id="reservaIdEstado">
          <div class="mb-3">
            <label for="nuevoEstado" class="form-label">Nuevo Estado</label>
            <select id="nuevoEstado" class="form-select">
              <option value="Pendiente">Pendiente</option>
              <option value="Confirmada">Confirmada</option>
              <option value="Cancelada">Cancelada</option>
              <option value="Finalizada">Finalizada</option>
              <option value="No Show">No Show</option>
            </select>
          </div>
        </div>
        <div class="modal-footer flex flex-col sm:flex-row gap-2">
          <button type="button" class="btn btn-secondary w-full sm:w-auto" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary w-full sm:w-auto" id="btnCambiarEstado">Cambiar Estado</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalConfirmacion" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-danger text-white">
          <h5 class="modal-title">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            Confirmar Acción
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="d-flex align-items-center mb-3">
            <div class="text-danger me-3">
              <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16">
                <path
                  d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
              </svg>
            </div>
            <div>
              <p id="mensajeConfirmacion" class="mb-0"></p>
              <small class="text-muted">Esta acción no se puede deshacer.</small>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            <i class="bi bi-x-circle me-1"></i>
            Cancelar
          </button>
          <button type="button" class="btn btn-danger" id="btnConfirmarAccion">
            <i class="bi bi-check-circle me-1"></i>
            Confirmar
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="script.js"></script>
</body>

</html>